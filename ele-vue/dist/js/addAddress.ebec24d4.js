(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addAddress"],{"07e4d":function(t,e,s){"use strict";var a=s("ff64"),i=s.n(a);i.a},1629:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address-wrapper"},[s("Header",{attrs:{title:t.title}}),s("section",{staticClass:"user-info"},[s("section",{staticClass:"flex section-1 section"},[s("div",{staticClass:"left"},[t._v("\n        联系人\n      ")]),s("div",{staticClass:"right"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address.user_name,expression:"address.user_name"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.address.user_name},on:{input:function(e){e.target.composing||t.$set(t.address,"user_name",e.target.value)}}})]),s("div",{staticClass:"label-wrapper flex"},[s("div",{staticClass:"label-item",class:{active:1==t.address.sex},on:{click:function(e){t.address.sex=1}}},[t._v("\n            先生\n          ")]),s("div",{staticClass:"label-item",class:{active:2==t.address.sex},on:{click:function(e){t.address.sex=2}}},[t._v("\n            女士\n          ")])])])]),s("section",{staticClass:"flex section"},[s("div",{staticClass:"left"},[t._v("\n        电话\n      ")]),s("div",{staticClass:"right"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address.mobile,expression:"address.mobile"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:t.address.mobile},on:{input:function(e){e.target.composing||t.$set(t.address,"mobile",e.target.value)}}})])])]),s("section",{staticClass:"flex section"},[s("div",{staticClass:"left"},[t._v("\n        地址\n      ")]),s("div",{staticClass:"right",on:{click:t.toSearchAddress}},[s("div",{staticClass:"input-wrapper flex justify_between"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address.address,expression:"address.address"}],attrs:{type:"text",placeholder:"小区/写字楼/学校等"},domProps:{value:t.address.address},on:{input:function(e){e.target.composing||t.$set(t.address,"address",e.target.value)}}}),s("span",{staticClass:"iconfont"},[t._v("")])])])]),s("section",{staticClass:"flex section"},[s("div",{staticClass:"left"},[t._v("\n        门牌号\n      ")]),s("div",{staticClass:"right"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.address.detail,expression:"address.detail"}],attrs:{type:"text",placeholder:"10号楼5层501室222"},domProps:{value:t.address.detail},on:{input:function(e){e.target.composing||t.$set(t.address,"detail",e.target.value)}}})])])]),s("section",{staticClass:"section-4 flex"},[s("div",{staticClass:"left"},[t._v("\n        标签\n      ")]),s("div",{staticClass:"right"},[s("div",{staticClass:"label-wrapper flex"},[s("div",{staticClass:"label-item",class:{active:1==t.address.label},on:{click:function(e){t.address.label=1}}},[t._v("\n            家\n          ")]),s("div",{staticClass:"label-item",class:{active:2==t.address.label},on:{click:function(e){t.address.label=2}}},[t._v("\n            学校\n          ")]),s("div",{staticClass:"label-item",class:{active:3==t.address.label},on:{click:function(e){t.address.label=3}}},[t._v("\n            公司\n          ")])])])])]),s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("\n    确定\n  ")])],1)},i=[],r=(s("5ab2"),s("6d57"),s("e10e"),s("9d37")),d=s("71c2"),n=s("365c"),c=s("08c1");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"AddAddress",components:{Header:d["a"]},beforeRouteLeave:function(t,e,s){console.log("--------------beforeRouteLeave----------"),"searchAddress"==t.name?this.ADDCACHE("AddAddress"):this.DELCACHE("AddAddress"),s()},data:function(){return{title:"新增地址",sex:-1,addressLabel:-1,txt:"",isEdit:this.$route.query.isEdit||0,toast:this.$createToast({time:2e3,type:"txt",txt:this.txt}),address:{user_name:"",sex:1,mobile:"",address:"",detail:"",label:1},isFromApiFlag:!1}},computed:o({},Object(c["b"])("address",["getSearchAddress"])),created:function(){this.isEdit&&this._getAddressById()},methods:o({},Object(c["c"])("common",["ADDCACHE","DELCACHE"]),{toAddressIndex:function(){this.$router.push({path:"./index.html"})},toSearchAddress:function(){this.$router.push({path:"./searchAddress.html"})},selectSex:function(t){this.address.sex=t},settingToast:function(t){this.txt=t,this.toast.show()},checkParams:function(){var t=/0?(13|14|15|17|18|19)[0-9]{9}/;return 0===this.address.user_name.trim().length?(this.settingToast("请填写用户姓名"),!1):t.test(this.address.mobile)?0===this.address.address.trim().length?(this.settingToast("请填写用户地址"),!1):0!==this.address.detail.trim().length||(this.settingToast("请填写详细地址"),!1):(this.settingToast("请填写联系方式"),!1)},_getAddressById:function(){var t=this;n["a"].getAddressById({id:this.$route.query.addressId}).then((function(e){t.address=e.data}))},_createdAddress:function(){var t=this;this.checkParams()&&n["a"].createdAddress(this.address).then((function(e){200==e.status?(t.settingToast("添加成功"),t.$router.push({path:"./index.html"})):t.settingToast("添加失败")}))},_updatedAddress:function(){var t=this;if(this.checkParams(this.address))return n["a"].updatedAddress(this.address).then((function(e){200==e.status?(t.settingToast("更新成功"),t.$router.push({path:"./index.html"})):t.settingToast("更新失败")}))},submit:function(){this.isEdit?this._updatedAddress():this._createdAddress()}}),watch:{getSearchAddress:function(){this.address.address=this.getSearchAddress}}},p=u,h=(s("cf3b"),s("5511")),f=Object(h["a"])(p,a,i,!1,null,"39aeeede",null);e["default"]=f.exports},"71c2":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header-wrapper"},[s("div",{staticClass:"header flex align_center justify_center",style:{backgroundColor:t.bgColor},on:{click:t.goBack}},[s("span",{staticClass:"iconfont icon"},[t._v("")]),s("div",{staticClass:"text flex align_center justify_center"},[s("h1",{staticClass:"elli"},[t._v(t._s(t.title))])])])])},i=[],r={props:{title:{type:String,default:"我的地址"},bgColor:{type:String,default:"#00A0FF"},defaultJump:{type:Boolean,default:!0}},methods:{goBack:function(){this.defaultJump?this.$router.go(-1):this.$emit("customJump")}}},d=r,n=(s("07e4d"),s("5511")),c=Object(n["a"])(d,a,i,!1,null,"31143020",null);e["a"]=c.exports},"8ede":function(t,e,s){},cf3b:function(t,e,s){"use strict";var a=s("8ede"),i=s.n(a);i.a},ff64:function(t,e,s){}}]);