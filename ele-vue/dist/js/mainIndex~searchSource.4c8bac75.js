(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mainIndex~searchSource"],{1228:function(t,e,s){"use strict";var i=s("772c"),a=s.n(i);a.a},"463e":function(t,e,s){},"46ff":function(t,e,s){"use strict";var i=s("463e"),a=s.n(i);a.a},"4a83":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"store-header",attrs:{id:"storeListHead"}},[s("div",{class:{fixed:t.fixTop},style:{top:t.offsetTop/37.5+"rem"}},[s("div",{staticClass:"filter-header"},[s("a",{staticClass:"filter-nav",class:[t.showSortFlag?"c3190e8":""],on:{click:t.showSort}},[t._v("综合排序")]),s("a",{staticClass:"filter-nav",on:{click:t.handleCheck}},[t._v("距离最近")]),s("a",{staticClass:"filter-nav"},[t._v("品质联盟")]),s("a",{staticClass:"filter-nav",class:[t.showScreeing?"c3190e8":""],on:{click:t.showScre}},[t._v("筛选")])]),s("section",{staticClass:"sort",class:{open:t.showSortFlag}},[s("ul",{staticClass:"item-list"},t._l(t.sortItems,(function(e,i){return s("li",{key:i,staticClass:"item flex justify_between",style:{color:i==t.currentIndex?"#3190E8":"#666"},on:{click:function(e){return t.selectOrderType(i)}}},[s("span",[t._v(t._s(e))]),s("i",{staticClass:"iconfont"},[t._v("")])])})),0)]),s("section",{staticClass:"screening",class:{"screening-open":t.showScreeing}},[s("div",{staticClass:"service"},[s("div",{staticClass:"shop-service"},[s("p",{staticClass:"title"},[t._v("商家服务（可多选）")]),s("cube-checker",{attrs:{options:t.shopService},model:{value:t.checkerValue,callback:function(e){t.checkerValue=e},expression:"checkerValue"}},t._l(t.shopService,(function(e){return s("cube-checker-item",{key:e.value,staticClass:"test",attrs:{option:e}},[s("span",{staticClass:"item"},[s("i",{staticClass:"iconfont",style:{color:e.color},domProps:{innerHTML:t._s(e.icon)}}),t._v("\n                "+t._s(e.text)+"\n              ")])])})),1)],1),s("div",{staticClass:"favo-activity"},[s("p",{staticClass:"title"},[t._v("优惠活动（单选）")]),s("ul",{staticClass:"flex wrap"},t._l(t.favourableAct,(function(e,i){return s("li",{key:i,staticClass:"item",class:[t.actIndex==i?"item_active":""],on:{click:function(e){t.actIndex=i}}},[t._v("\n              "+t._s(e.value)+"\n            ")])})),0)]),s("div",{staticClass:"per-consump"},[s("p",{staticClass:"title"},[t._v("人均消费")]),s("ul",{staticClass:"flex wrap"},t._l(t.perConsump,(function(e,i){return s("li",{key:i,staticClass:"item",class:[t.perIndex==i?"item_active":""],on:{click:function(e){t.perIndex=i}}},[t._v("\n              "+t._s(e.value)+"\n            ")])})),0)])]),s("div",{staticClass:"btn flex"},[s("div",{staticClass:"btn1",on:{click:t.handleEmpty}},[t._v("清空")]),s("div",{staticClass:"btn2",on:{click:t.showScre}},[t._v("确定")])])]),t.showSortFlag||t.showScreeing?s("div",{staticClass:"mask"}):t._e()])])},a=[],n=(s("163d"),"selectOrderType"),c={props:{needFixTop:{type:Boolean,required:!1,default:!0},offsetTop:{type:[Number,String],required:!1,default:0}},data:function(){return{showSortFlag:!1,currentIndex:0,sortItems:["综合排序","好评优先","起送价最低","配送最快"],shopService:[{value:1,text:"蜂鸟专送",icon:"&#xe601;",color:"#02ABE9"},{value:2,text:"到点自取",icon:"&#xe652;",color:"#F89577"},{value:3,text:"品牌商家",icon:"&#xe62d;",color:"#FE9736"},{value:4,text:"新店",icon:"&#xe60f;",color:"#F6AD2A"},{value:5,text:"接受预约",icon:"&#xe60f;",color:"#9C8EEF"},{value:6,text:"食无忧",icon:"&#xe600;",color:"#FE869F"},{value:7,text:"开发票",icon:"&#xe6cb;",color:"#96CB59"}],favourableAct:[{key:1,value:"首单立减"},{key:2,value:"门店新客立减"},{key:3,value:"满减优惠"},{key:4,value:"下单返红包"},{key:5,value:"进店领红包"},{key:6,value:"配送费优惠"},{key:7,value:"赠品优惠"},{key:8,value:"特价商品"},{key:9,value:"品质联盟红包"}],perConsump:[{key:1,value:"￥20以下"},{key:3,value:"￥20-￥40"},{key:4,value:"￥40-￥60"},{key:5,value:"￥60-￥80"},{key:6,value:"￥80-￥100"},{key:7,value:"￥100以上"}],checkerValue:[],actIndex:-1,perIndex:-1,showScreeing:!1,container:null,fixTop:!1,scrollTop:0,distance:0,tempDistance:0}},mounted:function(){this.initData()},activated:function(){this.initData()},deactivated:function(){this.needFixTop&&document.removeEventListener("scroll",this.handleCheck)},destroyed:function(){this.needFixTop&&document.removeEventListener("scroll",this.handleCheck)},methods:{handleEmpty:function(){this.checkerValue=[],this.actIndex=-1,this.perIndex=-1},setFixTop:function(t){this.fixTop=t},selectOrderType:function(t){this.currentIndex=t,this.showSort(),this.$emit(n,t)},initData:function(){var t=this;this.needFixTop&&(this.container=document.getElementById("storeListHead"),this.scrollTop=this.container.getBoundingClientRect().y,document.addEventListener("scroll",this.handleCheck),this.$nextTick((function(){window.scrollBy(0,t.tempDistance)})))},handleCheck:function(){this.checkFix(this.container)},checkFix:function(t){var e=t.getBoundingClientRect(),s=e.top,i=e.y;this.distance=s||i||0,this.tempDistance=document.documentElement.scrollTop,this.distance>=this.offsetTop?this.fixTop=!1:this.fixTop=!0},showSort:function(){this.showSortFlag=!this.showSortFlag,this.showScreeing=!1,this.showSortFlag?document.body.classList.add("hide"):document.body.classList.remove("hide"),this.needFixTop&&(this.fixTop||(this.fixTop=!0,window.scrollTo({top:this.scrollTop})))},showScre:function(){this.showScreeing=!this.showScreeing,this.showSortFlag=!1,this.showScreeing?document.body.classList.add("hide"):document.body.classList.remove("hide"),this.needFixTop&&(this.fixTop||(this.fixTop=!0,window.scrollTo({top:this.scrollTop})))}}},o=c,l=(s("5aa1"),s("84ed"),s("5511")),r=Object(l["a"])(o,i,a,!1,null,"12b61434",null);e["a"]=r.exports},5199:function(t,e,s){},"57c3":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading-more"},[t.allLoaded?s("div",{staticClass:"text"},[t._v(t._s(t.text))]):s("cube-loading",{attrs:{size:24}})],1)},a=[],n={props:{allLoaded:{type:Boolean,default:!1},text:{type:String,default:"没有更多了~"}}},c=n,o=(s("1228"),s("5511")),l=Object(o["a"])(c,i,a,!1,null,"754a94ff",null);e["a"]=l.exports},"5aa1":function(t,e,s){"use strict";var i=s("5199"),a=s.n(i);a.a},6668:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"shop-item",on:{click:t.toShopDetail}},[s("div",{staticClass:"flex"},[s("div",{staticClass:"left backgroundimg",style:{backgroundImage:"url("+t.IMAGESDOMAIN+t.merchant.shop_avatar+")"}}),s("div",{staticClass:"right flex justify_between"},[s("div",{staticClass:"flex index-line1 justify_between align_center"},[s("div",{staticClass:"flex"},[s("span",{staticClass:"tag"},[t._v("品牌")]),s("p",{staticClass:"elli"},[t._v(t._s(t.merchant.name))])]),t._m(0)]),s("div",{staticClass:"flex index-line2"},[s("Star",{attrs:{size:24,score:t.merchant.score}}),s("span",{staticClass:"ml5"},[t._v(t._s(t.merchant.score))]),s("span",{staticClass:"ml5"},[t._v("月售"+t._s(t.merchant.mon_sale)+"单")])],1),s("div",{staticClass:"flex index-line3 justify_between"},[s("div",{staticClass:"money-limit"},[s("span",[t._v("￥"+t._s(t.merchant.send_price)+"元起送")]),s("span",{staticClass:"line"},[t._v("配送费¥"+t._s(t.merchant.ship_price))])]),s("div",{staticClass:"distance-time"},[s("span",[t._v(">99km")]),s("span",{staticClass:"line"},[t._v(t._s(t.merchant.need_time)+"分钟")])])])])]),s("div",{staticClass:"shop-tag"},[s("div",{staticClass:"active-list flex justify_between"},[s("div",{staticClass:"active",style:{height:t.showAllActive?"auto":"13px"}},t._l(t.active,(function(e,i){return s("div",{key:i,staticClass:"item"},[1==e?s("span",{staticClass:"tag",style:{backgroundColor:t.activeColor[0]}},[t._v("减")]):t._e(),2==e?s("span",{staticClass:"tag",style:{backgroundColor:t.activeColor[1]}},[t._v("特")]):t._e(),3==e?s("span",{staticClass:"tag",style:{backgroundColor:t.activeColor[2]}},[t._v("首")]):t._e(),4==e?s("span",{staticClass:"tag",style:{backgroundColor:t.activeColor[2]}},[t._v("票")]):t._e(),s("span",{staticClass:"desc"},[t._v("满"+t._s(t.merchant.top_up)+"减"+t._s(t.merchant.minus))])])})),0),s("div",{staticClass:"more-active",on:{click:function(e){e.stopPropagation(),t.showAllActive=!t.showAllActive}}},[t._v("\n        4个活动\n      ")])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",[t._v("···")])])}],n=s("987a"),c={components:{Star:n["a"]},props:{merchant:{type:Object,default:function(){}}},data:function(){return{active:["1","2","3","4"],activeColor:["rgb(240, 115, 115)","rgb(241, 136, 79)","rgb(112, 188, 70)","rgb(153, 153, 153)"],showAllActive:!1}},methods:{toShopDetail:function(){this.$router.push({path:"../shop/index.html",query:{merchantId:this.merchant.id}})}}},o=c,l=(s("9245"),s("5511")),r=Object(l["a"])(o,i,a,!1,null,"148f1b5e",null);e["a"]=r.exports},"75cf":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"foot-guide flex align_center"},t._l(t.guideLists,(function(e,i){return s("div",{key:i,staticClass:"item",class:{active:t.guideIndex==i},on:{click:function(e){return t.toGuide(i)}}},[s("span",{staticClass:"iconfont",domProps:{innerHTML:t._s(e.icon)}}),s("p",{staticClass:"text"},[t._v(t._s(e.name))])])})),0)},a=[],n=(s("163d"),{props:{guideIndex:{type:Number,default:0}},data:function(){return{guideLists:[{icon:"&#xe612;",name:"首页"},{icon:"&#xe60a;",name:"搜索"},{icon:"&#xe76d;",name:"订单"},{icon:"&#xe651;",name:"我的"}]}},methods:{toGuide:function(t){switch(t){case 0:this.$router.push({path:"../main/index.html"});break;case 1:this.$router.push({path:"../main/search.html"});break;case 2:this.$createDialog({title:"温馨提示",content:"正在开发中..."}).show();break;case 3:this.$router.push({path:"../my/index.html"});break}}}}),c=n,o=(s("46ff"),s("5511")),l=Object(o["a"])(c,i,a,!1,null,"2c320ba5",null);e["a"]=l.exports},"772c":function(t,e,s){},"84ed":function(t,e,s){"use strict";var i=s("b79f"),a=s.n(i);a.a},9245:function(t,e,s){"use strict";var i=s("e86b"),a=s.n(i);a.a},b79f:function(t,e,s){},d4ba:function(t,e,s){"use strict";e["a"]={data:function(){return{page:1,pageSize:20,requireFinallyFlag:!0,totalPage:1,allLoaded:!1}},mounted:function(){document.addEventListener("scroll",this.handleScroll)},destroyed:function(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=document.documentElement.clientHeight,e=document.documentElement.scrollTop,s=document.body.scrollHeight,i=parseFloat(t+e,10),a=60;s<i+a&&this.page<=this.totalPage&&this.requireFinallyFlag&&(this.page++,this.page>this.totalPage?this.allLoaded=!0:(this.requireFinallyFlag=!1,this.loadingMore()))}}}},e86b:function(t,e,s){}}]);